---
import { featureFlags } from '../../data/feature-flags';
import Avatar from '../common/Avatar.astro';
import Dropdown from '../common/Dropdown.astro';
import HeaderLink from './HeaderLink.astro';

import { env } from '../../data/env';

const siteTitle = env.SITE.TITLE;
const homeSlug = '/';
const projectsSlug = '/projects';
const aboutSlug = '/about';
const contactSlug = '/contact';
const avatarPic = '/images/me-2.webp';
---

<header class="bg-gray-100 text-gray-800 fixed w-full">
  <div class="border-2 px-4 py-2">
    <nav class="flex items-center justify-between text-gray-800">
      <h2 class="text-lg font-extrabold">
        <a href={homeSlug} class="no-underline hover:text-cyan-700 transition-colors duration-200"
          >{siteTitle}</a
        >
      </h2>
      <!-- Desktop Links -->
      <div class="hidden custom:flex custom:items-center custom:space-x-2 ml-auto">
        <HeaderLink href={homeSlug} class="hover:text-cyan-700 transition-colors duration-200"
          >Inicio</HeaderLink
        >
        <HeaderLink href={aboutSlug} class="hover:text-cyan-700 transition-colors duration-200"
          >Qui√©n soy</HeaderLink
        >
        {
          featureFlags.enableHomelabs && (
            <HeaderLink
              href={projectsSlug}
              class="hover:text-cyan-700 transition-colors duration-200"
            >
              HomeLab
            </HeaderLink>
          )
        }
        {
          featureFlags.enableContact && (
            <HeaderLink
              href={contactSlug}
              class="hover:text-cyan-700 transition-colors duration-200"
            >
              Videollamada
            </HeaderLink>
          )
        }
      </div>
      <Avatar src={avatarPic} link={homeSlug} />
      <button
        id="menu-toggle"
        class="custom:hidden border-2 border-gray-400 bg-gray-100 px-2 py-1 rounded transition-colors duration-700"
      >
        &#9776;
      </button>
    </nav>
  </div>
  <Dropdown />
</header>
