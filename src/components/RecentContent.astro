---
import { ENV } from '../pages/api/env';

const siteTitle = ENV.SITE.TITLE;
const twitterUrl = ENV.RRSS.TWITTER;
const youtubeUrl = ENV.RRSS.YOUTUBE;
---

<section class="max-w-6xl mx-auto py-4 px-3 sm:px-4 lg:px-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    {/* Social Media Card */}
    <div class="bg-white rounded-md shadow overflow-hidden dark:bg-gray-800">
      <div class="p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white">Mis Ãºltimos posts</h2>
          <a
            href={twitterUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-500 hover:text-blue-600 dark:text-blue-400 text-sm"
          >
            @{siteTitle}
          </a>
        </div>
        <div class="space-y-3">
          {/* Twitter/X Timeline Embed */}
          <a
            class="twitter-timeline"
            data-height="300"
            data-theme="light"
            href={`https://x.com/${siteTitle}}?ref_src=twsrc%5Etfw`}
          >
            Cargando tweets de @{siteTitle}
          </a>
          <script is:inline async src="https://platform.twitter.com/widgets.js" charset="utf-8"
          ></script>
        </div>
      </div>
    </div>

    {/* YouTube Videos Card */}
    <div class="bg-white rounded-md shadow overflow-hidden dark:bg-gray-800">
      <div class="p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white">Latest Videos</h2>
          <a
            href={youtubeUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-red-500 hover:text-red-600 text-sm"
          >
            Ver canal de YouTube
          </a>
        </div>
        <div class="space-y-6">
          {/* Example structure for three recent videos */}
          {
            [
              {
                id: 'EXAMPLE1',
                title: 'Understanding Web Development in 2024',
                duration: '12:34',
              },
            ].map((video) => (
              <div class="group">
                <div class="relative aspect-w-16 aspect-h-9 mb-1">
                  <img
                    src={`https://i.ytimages.com/vi/${video.id}/maxresdefault.jpg`}
                    alt={video.title}
                    class="rounded-lg object-cover"
                  />
                  <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity duration-200 rounded-lg" />
                  <div class="absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-sm px-2 py-1 rounded">
                    {video.duration}
                  </div>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white group-hover:text-blue-500 transition-colors">
                  {video.title}
                </h3>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>
