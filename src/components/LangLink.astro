---
import { getLocalizedPathname } from '../i18n/utils';

interface Props {
  language: string;
  class?: string;
  isActive?: boolean;
}

const { language, class: className, ...props } = Astro.props;
const { pathname } = Astro.url;

const lang = Astro.params?.lang || 'en';
const isActive = language === lang;

const href = getLocalizedPathname(pathname, language as 'en' | 'es');
---

<a
  href={href}
  class:list={[className, 'inline-block no-underline', isActive ? 'font-bold underline' : '']}
  {...props}
>
  {language}
</a>
